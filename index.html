<!DOCTYPE html>
<html>
<head>
    <title>âœ… TEST CORRIGÃ‰</title>
</head>
<body>
    <h1>ğŸ” Test avec la bonne syntaxe</h1>
    
    <button onclick="test('eleves')">Tester eleves</button>
    <button onclick="test('publications')">Tester publications</button>
    <button onclick="test('cours')">Tester cours</button>
    <button onclick="test('classes')">Tester classes</button>
    <button onclick="test('administration')">Tester administration</button>
    <button onclick="test('anciens')">Tester anciens</button>

    <pre id="resultat" style="background:#f0f0f0; padding:15px; margin-top:20px;"></pre>

    <script>
    const BASE_URL = 'https://api.sheetbest.com/sheets/70923d86-6d1a-4756-bf21-a869acf3e029';

    function getSheetUrl(onglet) {
        return `${BASE_URL}/sheet?name=${onglet}`;
    }

    async function test(onglet) {
        const resultat = document.getElementById('resultat');
        resultat.innerHTML = `â³ Test de "${onglet}"...`;
        
        try {
            const url = getSheetUrl(onglet);
            console.log('ğŸ“¡ URL:', url);
            
            const res = await fetch(url);
            const data = await res.json();
            
            resultat.innerHTML = 
                `âœ… Onglet "${onglet}" : ${data.length} Ã©lÃ©ment(s)\n\n` +
                JSON.stringify(data, null, 2);
        } catch (err) {
            resultat.innerHTML = `âŒ Erreur: ${err.message}`;
        }
    }
    </script>
</body>
</html>

